---
import TooDarkToSeeAlbumImage from '../images/TDTS_Cover_1.jpeg';
---

<section class="flex flex-col mt-8 md:flex-row md:my-64">
  <div class="left text-left pl-4 md:w-2/4 md:mr-4 md:text-center">
    <h2 class="text-4xl font-bold">Too Dark to See</h2>
    <h3 class="text-2xl">New album out now.</h3>
    <p class="mt-4 text-base">
      Featuring "Spider-man", "Lost" and "Episodes"; Merch dives into the
      darkest time of his life.
    </p>
    <a
      class="inline-block mt-4 md:mt-16 border px-4 py-2 md:px-16 md:py-4 opacity-40 hover:opacity-100 transition-opacity duration-200 cursor-pointer"
      >Listen Now</a
    >
  </div>
  <div class="right mt-8 mx-auto md:mt-2 md:w-2/4 md:mr-4">
    <img
      src={TooDarkToSeeAlbumImage}
      alt="Album cover for Too Dark to See"
      class="cover-art"
    />
  </div>
</section>

<style>
  .cover-art {
    opacity: 0;
    transition: opacity 0.5s;
  }

  .visible {
    opacity: 1;
  }
</style>

<script>
  const coverArt = document.querySelector('.cover-art');
  const observer = new IntersectionObserver(
    ([entry]) => {
      if (entry.isIntersecting) {
        coverArt.classList.add('visible');
        observer.unobserve(entry.target);
      }
    },
    { threshold: 0.5 }
  );

  observer.observe(coverArt);
</script>
